# Token Operations

## Decode Hallmark

```shell
curl https://wallet.burst-team.us:8125/burst \
  -d "requestType=decodeHallmark" \
  -d "hallmark=827ed8cf83bbd36419002759d960a1bec952f2209db8ed3be958..."
```

```python
import requests

url = "https://wallet.burst-team.us:8125/burst"

params = {
  "requestType": "decodeHallmark",
  "hallmark": "827ed8cf83bbd36419002759d960a1bec952f2209db8ed3be958..."
}

r = requests.get(url, params)

print r.json()

```

```ruby
require 'unirest'

url = "https://wallet.burst-team.us:8125/burst"

params = {
  "requestType": "decodeHallmark",
  "hallmark": "827ed8cf83bbd36419002759d960a1bec952f2209db8ed3be958..."
}

r = Unirest.get(url, parameters: params)

print r.raw_body

```


> The above request returns JSON structured like this:

```json
{
 "date": "2015-12-10",
 "valid": true,
 "accountRS": "BURST-FEJ5-H4YB-QD3D-2L3W2",
 "host": "burst500.club",
 "weight": 100,
 "requestProcessingTime": 2,
 "account": "31580691533050371"
}
```

Decode a node hallmark.

### Request Parameters

Parameter | Type | Required | Description
--------- | --------- | --------- | -----------
requestType | string | Required | `requestType` is `decodeHallmark`
hallmark | numeric | Required | `hallmark` is the hallmark value

### Response Parameters

Parameter | Type | Description
--------- | ------- | -----------
date | string | is the date the hallmark was created, in YYYY-MM-DD format
valid | boolen | is true if host is less than 100 characters, `weight` > 0 and the embedded signature is verified
accountRS | string | is the Reed-Solomon address of the account
host | string | is the IP address or domain name associated with the hallmark
weight | numeric | is the weight assigned to the hallmark
requestProcessingTime | numeric | is the API request processing time (in millisec)
account | string | is the account number associated with the hallmark








## Decode Token

```shell
curl https://wallet.burst-team.us:8125/burst \
  -d "requestType=decodeToken" \
  -d "website=test" \
  -d "token=u8q9ps0gdoo2bl158p4llpar583ld0cgejat9qnrgrgde4l5ut8bgn..."
```

```python
import requests

url = "https://wallet.burst-team.us:8125/burst"

params = {
  "requestType": "decodeToken",
  "website": "test",
  "token": "u8q9ps0gdoo2bl158p4llpar583ld0cgejat9qnrgrgde4l5ut8bgn..."
}

r = requests.get(url, params)

print r.json()

```

```ruby
require 'unirest'

url = "https://wallet.burst-team.us:8125/burst"

params = {
  "requestType": "decodeToken",
  "website": "test",
  "token": "u8q9ps0gdoo2bl158p4llpar583ld0cgejat9qnrgrgde4l5ut8bgn..."
}

r = Unirest.get(url, parameters: params)

print r.raw_body

```


> The above request returns JSON structured like this:

```json
{
 "valid": true,
 "accountRS": "BURST-4VDY-LNVT-LMAY-FMCKA",
 "requestProcessingTime": 2,
 "account": "15295723609781267838",
 "timestamp": 49762488
}
```

Validate a token without requiring the transmission of a secret passphrase.


### Request Parameters

Parameter | Type | Required | Description
--------- | --------- | --------- | -----------
requestType | string | Required | `requestType` is `decodeToken`
website | string | Required | `website` is the signed text, typically an authorized URL
token | string | Required | `token` is the token generated by [Generate Token](#generate-token)

### Response Parameters

Parameter | Type | Description
--------- | ------- | -----------
valid | boolen | is true if token is valid, false otherwise
accountRS | string | is the Reed-Solomon address of the account
requestProcessingTime | numeric | is the API request processing time (in millisec)
account | string | is the account number that generated the token
timestamp | numeric | is the time (in seconds since the genesis block) that the token was created

<aside class="notice">
Since token contains the token generator's public key and digital signature, website can be validated as authorized by the owner of the public key, and the public key determines the account ID.
</aside>








## Generate Token

```shell
curl https://wallet.burst-team.us:8125/burst \
  -X POST \
  -d "requestType=generateToken" \
  -d "website=test.com" \
  -d "secretPhrase=mysecretphrase"
```

```python
import requests

url = "https://wallet.burst-team.us:8125/burst"

params = {
  "requestType": "generateToken",
  "website": "test.com",
  "secretPhrase": "mysecretphrase"
}

r = requests.post(url, params)

print r.json()

```

```ruby
require 'unirest'

url = "https://wallet.burst-team.us:8125/burst"

params = {
  "requestType": "generateToken",
  "website": "test.com",
  "secretPhrase": "mysecretphrase"
}

r = Unirest.get(url, parameters: params)

print r.raw_body

```


> The above request returns JSON structured like this:

```json
{
    "requestProcessingTime": 0,
    "token": "kfkt3jgoe5nakqkvd7gs9uljg4b35ugtki6lm3ooql9dl1..."
}
```

Generate a token. POST only.


### Request Parameters

Parameter | Type | Required | Description
--------- | --------- | --------- | -----------
requestType | string | Required | `requestType` is `decodeToken`
website | string | Required | `website` is a web site URL for which authorization should be granted, or general text to be digitally signed
secretPhrase | string | Required | `secretPhrase` is the passphrase of the account generating the token

<aside class="notice">
    <code>website</code> is typically a URL (with the leading http:// unnecessary) that an account owner signs with his secretPhrase (private key) to bind the account to the URL, but website can be any text that the owner wishes to sign.
</aside>

### Response Parameters

Parameter | Type | Description
--------- | ------- | -----------
requestProcessingTime | numeric | is the API request processing time (in millisec)
token | string | is a 160 character string representing the 100-byte token which consists of a 32-byte public key, a 4-byte timestamp, and a 64-byte signature


<aside class="notice">
Since token contains the token generator's public key and signature, the website can be validated as authorized by the owner of the public key using Decode Token.
</aside>


















## Mark Host


```shell
curl https://wallet.burst-team.us:8125/burst \
  -X POST \
  -d "requestType=markHost" \
  -d "secretPhrase=IWontTellYou" \
  -d "host=iwonttellyou.com" \
  -d "weight=1" \
  -d "date=2014-11-22"
```

```python
import requests

url = "https://wallet.burst-team.us:8125/burst"

params = {
  "requestType": "markHost",
  "secretPhrase": "mysecretphrase",
  "host": "iwonttellyou.com",
  "weight": 1,
  "date": "2014-11-22"
}

r = requests.post(url, params)

print r.json()
```

```ruby
require 'unirest'

url = "https://wallet.burst-team.us:8125/burst"

params = {
  "requestType": "markHost",
  "secretPhrase": "mysecretphrase",
  "host": "iwonttellyou.com",
  "weight": 1,
  "date": "2014-11-22"
}

r = Unirest.get(url, parameters: params)

print r.raw_body

```


> The above request returns JSON structured like this:

```json
{
 "hallmark": "57fb6f3a958e320bb49c4e81b4c2cf28b9f25d086c143b473beec228f79ff93c...",
 "requestProcessingTime": 5
}
```

Generates a node hallmark. POST only.

### Request Parameters

Parameter | Type | Required | Description
--------- | --------- | --------- | -----------
requestType | string | Required | `requestType` is `markHost`
secretPhrase | string | Required | `secretPhrase` is the secret passphrase for the account that will be hallmarked on the node
host | string | Required | `host` is the IP address or domain name of the node
weight | numeric | Required | `weight` is the weight to assign to the node
date | string | Required | `date` is the current date in YYYY-MM-DD format



### Response Parameters

Parameter | Type | Description
--------- | ------- | -----------
requestProcessingTime | numeric | is the API request processing time (in millisec)
hallmark | string | is the hallmark hex string










